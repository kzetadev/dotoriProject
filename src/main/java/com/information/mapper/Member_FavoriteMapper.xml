<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="member_favorite">
	
	<!-- 마이페이지에 담기 -->
	<insert id="insertFavorite" parameterType="java.util.Map">
		<!-- insert into member_favorite values(seq_member_favorite.nextval,seq_mem_no.nextval,#{place_no},#{place_name},#{place_img},#{place_type}) -->
		insert into member_favorite values(seq_member_favorite.nextval,seq_mem_no.nextval,#{place_no})
	</insert>

	<!-- 마이페이지 찜 리스트를 보여줌  -->
  	<select id="selectAll" resultType="com.information.vo.Member_FavoriteVo">
    	SELECT mf.favorite_no, pt.place_type_name, pi.place_name
  			FROM member_favorite mf, member_info mi, place_theme pt, place_info pi
 				WHERE mf.mem_no = mi.mem_no
                	AND mf.place_no = pi.place_no
                    AND pi.place_type = pt.place_type
                    AND pt.place_type = #{pt.place_type}
                    AND mf.mem_no = #{mf.mem_no}
 						<!-- ORDER BY mf.favorite_no, pt.place_type, pi.place_no -->
  	</select>
  
  	<!-- 마이페이지 찜 리스트중에서 삭제하고 싶은 것 선택 -->
 	<delete id="delete">
  		delete from member_favorite where favorite_no = #{favorite_no}
  	</delete>
</mapper>